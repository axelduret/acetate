{"version":3,"sources":["webpack:///./resources/js/components/auth/Login.vue?e1fe","webpack:///resources/js/components/auth/Login.vue","webpack:///./resources/js/components/auth/Login.vue?6c46","webpack:///./resources/js/components/auth/Login.vue"],"names":["data","formData","email","password","passwordConfirm","showPw","errors","appURL","baseURL","computed","getUserFields","methods","login","axios","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","on","$event","preventDefault","$t","model","value","callback","$$v","$set","trim","expression","_v","_s","_e"],"mappings":"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","file":"js/896.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-container',[_c('v-row',{staticClass:\"mt-4\",attrs:{\"justify\":\"center\"}},[_c('v-col',{attrs:{\"sm\":\"7\"}},[_c('form',{on:{\"submit\":function($event){$event.preventDefault();}}},[_c('v-card',[_c('v-card-text',[_c('v-text-field',{attrs:{\"type\":\"email\",\"autocomplete\":\"on\",\"label\":_vm.$t('form.label.email')},model:{value:(_vm.formData.email),callback:function ($$v) {_vm.$set(_vm.formData, \"email\", (typeof $$v === 'string'? $$v.trim(): $$v))},expression:\"formData.email\"}}),_vm._v(\" \"),_c('v-text-field',{attrs:{\"label\":_vm.$t('form.label.password'),\"autocomplete\":\"on\",\"append-icon\":_vm.showPw ? 'mdi-eye-off' : 'mdi-eye',\"type\":_vm.showPw ? 'text' : 'password'},on:{\"click:append\":function($event){_vm.showPw = !_vm.showPw}},model:{value:(_vm.formData.password),callback:function ($$v) {_vm.$set(_vm.formData, \"password\", $$v)},expression:\"formData.password\"}}),_vm._v(\" \"),(_vm.errors)?_c('div',{staticClass:\"error my-1 px-4 white--text py-2 rounded\"},[_vm._v(\"\\n              \"+_vm._s(_vm.$t(\"errors.login.message\"))+\"\\n            \")]):_vm._e()],1),_vm._v(\" \"),_c('v-divider',{staticClass:\"mt-2\"}),_vm._v(\" \"),_c('v-card-actions',[_c('v-spacer'),_vm._v(\" \"),_c('v-btn',{staticClass:\"mr-4\",attrs:{\"text\":\"\",\"color\":\"info accent-4\",\"type\":\"submit\"},on:{\"click\":_vm.login}},[_vm._v(\"\\n              submit\\n            \")])],1)],1)],1)])],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <v-container>\r\n    <v-row justify=\"center\" class=\"mt-4\">\r\n      <v-col sm=\"7\">\r\n        <form @submit.prevent>\r\n          <v-card>\r\n            <v-card-text>\r\n              <v-text-field\r\n                v-model.trim=\"formData.email\"\r\n                type=\"email\"\r\n                autocomplete=\"on\"\r\n                :label=\"$t('form.label.email')\"\r\n              ></v-text-field>\r\n              <v-text-field\r\n                v-model=\"formData.password\"\r\n                :label=\"$t('form.label.password')\"\r\n                autocomplete=\"on\"\r\n                :append-icon=\"showPw ? 'mdi-eye-off' : 'mdi-eye'\"\r\n                :type=\"showPw ? 'text' : 'password'\"\r\n                @click:append=\"showPw = !showPw\"\r\n              ></v-text-field>\r\n              <div\r\n                v-if=\"errors\"\r\n                class=\"error my-1 px-4 white--text py-2 rounded\"\r\n              >\r\n                {{ $t(\"errors.login.message\") }}\r\n              </div>\r\n            </v-card-text>\r\n            <v-divider class=\"mt-2\"></v-divider>\r\n            <v-card-actions>\r\n              <v-spacer></v-spacer>\r\n              <v-btn\r\n                @click=\"login\"\r\n                text\r\n                color=\"info accent-4\"\r\n                class=\"mr-4\"\r\n                type=\"submit\"\r\n              >\r\n                submit\r\n              </v-btn>\r\n            </v-card-actions>\r\n          </v-card>\r\n        </form>\r\n      </v-col>\r\n    </v-row></v-container\r\n  >\r\n</template>\r\n\r\n<script>\r\nimport { mapGetters, mapActions } from \"vuex\";\r\n\r\nexport default {\r\n  data() {\r\n    return {\r\n      formData: {\r\n        email: \"\",\r\n        password: \"\",\r\n      },\r\n      passwordConfirm: \"\",\r\n      showPw: false,\r\n      errors: false,\r\n      // App url.\r\n      appURL: process.env.MIX_APP_URL,\r\n      // Base url.\r\n      baseURL: process.env.MIX_BASE_URL,\r\n    };\r\n  },\r\n  computed: mapGetters({\r\n    getUserFields: \"user/getUserFields\",\r\n  }),\r\n  methods: {\r\n    // Vuex setters.\r\n    ...mapActions({\r\n      setId: \"user/setId\",\r\n      setUsername: \"user/setUsername\",\r\n      setFirstname: \"user/setFirstname\",\r\n      setLastname: \"user/setLastname\",\r\n      setEmail: \"user/setEmail\",\r\n      setLanguage: \"user/setLanguage\",\r\n      setTheme: \"user/setTheme\",\r\n      setThemeSwitch: \"user/setThemeSwitch\",\r\n      setAvatar: \"user/setAvatar\",\r\n      setApiToken: \"user/setApiToken\",\r\n      setRole: \"user/setRole\",\r\n      setAbilities: \"user/setAbilities\",\r\n    }),\r\n    // Login request.\r\n    login() {\r\n      axios\r\n        .post(\"/api/login\", this.formData)\r\n        .then((response) => {\r\n          // Fetch API response.\r\n          this.userId = response.data.data.user.id;\r\n          this.username = response.data.data.user.username;\r\n          this.firstname = response.data.data.user.firstname;\r\n          this.lastname = response.data.data.user.lastname;\r\n          this.email = response.data.data.user.email;\r\n          this.language = response.data.data.user.language;\r\n          this.theme = response.data.data.user.theme;\r\n          this.avatar = response.data.data.user.avatar;\r\n          this.token = response.data.data.user.api_token;\r\n          this.role = response.data.data.user.role[0].name;\r\n          this.abilities = response.data.data.user.abilities;\r\n          this.errors = false;\r\n          // Set logged user's theme.\r\n          if (this.theme === \"light\") {\r\n            this.$vuetify.theme.dark = false;\r\n          } else if (this.theme === \"dark\") {\r\n            this.$vuetify.theme.dark = true;\r\n          }\r\n          // Save logged user's variables in localStorage.\r\n          localStorage.setItem(\"user_id\", this.userId);\r\n          localStorage.setItem(\"user_username\", this.username);\r\n          localStorage.setItem(\"user_firstname\", this.firstname);\r\n          localStorage.setItem(\"user_lastname\", this.lastname);\r\n          localStorage.setItem(\"user_email\", this.email);\r\n          localStorage.setItem(\"user_language\", this.language);\r\n          localStorage.setItem(\"user_theme\", this.theme);\r\n          localStorage.setItem(\"user_avatar\", this.avatar);\r\n          localStorage.setItem(\"user_api_token\", this.token);\r\n          localStorage.setItem(\"user_role\", this.role);\r\n          localStorage.setItem(\"user_abilities\", this.abilities);\r\n          // Set logged user's states in vuex store.\r\n          this.setId(this.userId);\r\n          this.setUsername(this.username);\r\n          this.setFirstname(this.firstname);\r\n          this.setLastname(this.lastname);\r\n          this.setEmail(this.email);\r\n          this.setLanguage(this.language);\r\n          this.setTheme(this.theme);\r\n          this.setAvatar(this.avatar);\r\n          this.setApiToken(this.token);\r\n          this.setRole(this.role);\r\n          this.setAbilities(this.abilities);\r\n          // Redirect to dashboard route.\r\n          this.$router.push(`${this.baseURL}${this.$i18n.locale}/dashboard`);\r\n        })\r\n        .catch((errors) => {\r\n          // Returns errors.\r\n          this.errors = true; // errors.response.data\r\n        })\r\n        .finally(() => {});\r\n    },\r\n  },\r\n};\r\n</script>\r\n  \r\n<style>\r\n</style>","import mod from \"-!../../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-5[0].rules[0].use[0]!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Login.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-5[0].rules[0].use[0]!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Login.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Login.vue?vue&type=template&id=ae98c192&\"\nimport script from \"./Login.vue?vue&type=script&lang=js&\"\nexport * from \"./Login.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}