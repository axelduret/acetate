(self.webpackChunk=self.webpackChunk||[]).push([[583],{1583:(t,e,a)=>{"use strict";a.r(e),a.d(e,{default:()=>r});const i={props:{id:String},data:function(){return{event:"",form:{id:this.id,name:"",description:"",user_id:localStorage.getItem("user_id")},file:"",appURL:"http://127.0.0.1:8001",baseURL:"/",apiToken:localStorage.getItem("user_api_token")}},methods:{fetchAPI:function(){var t=this;axios.request({url:this.id,method:"get",baseURL:this.baseURL+"api/events/",headers:{Authorization:"Bearer "+this.apiToken}}).then((function(e){t.event=e.data.data.event,t.form.name=t.event.name,t.form.description=t.event.description})).catch((function(t){console.log(t)})).finally((function(){t.overlay=!1}))},handleFileUpload:function(){this.file=this.$refs.file.files[0]},submit:function(){var t=new FormData;t.append("upload",this.file);var e={headers:{"Content-Type":"multipart/form-data; charset=utf-8; boundary="+Math.random().toString().substr(2),Authorization:"Bearer "+this.apiToken}};axios.post(this.baseURL+"api/events/"+this.id+"/avatar",t,e).then((function(){console.log("SUCCESS!!")})).catch((function(){console.log("FAILURE!!")}))}},mounted:function(){this.fetchAPI()}};const r=(0,a(1900).Z)(i,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("form",{attrs:{id:"myForm"},on:{submit:function(t){t.preventDefault()}}},[a("v-card",{staticClass:"mx-auto",attrs:{"max-width":"800px"}},[a("v-card-title",{staticClass:"title greybg primary--text"},[a("div",[t._v(t._s(t.$t("admin.edit.title")))])]),t._v(" "),a("v-card-text",[a("v-text-field",{staticClass:"mx-4 my-4 primary--text",attrs:{type:"hidden",id:"formId",required:"",hidden:"",label:"Id"},model:{value:t.form.id,callback:function(e){t.$set(t.form,"id",e)},expression:"form.id"}}),a("v-text-field",{staticClass:"mx-4 my-4 primary--text",attrs:{type:"hidden",id:"formUserId",required:"",hidden:"",label:"userId"},model:{value:t.form.user_id,callback:function(e){t.$set(t.form,"user_id",e)},expression:"form.user_id"}}),a("v-text-field",{staticClass:"mx-4 my-4 primary--text",attrs:{type:"text",id:"formName",clearable:"",required:"",counter:"100",label:"Name"},model:{value:t.form.name,callback:function(e){t.$set(t.form,"name",e)},expression:"form.name"}}),t._v(" "),a("v-textarea",{staticClass:"mx-4 my-4 primary--text",attrs:{outlined:"",id:"formText",height:"400",clearable:""},model:{value:t.form.description,callback:function(e){t.$set(t.form,"description",e)},expression:"form.description"}}),a("img",{staticClass:"mx-4 mb-4 primary--text",attrs:{width:"200",src:t.appURL+t.baseURL+t.event.avatar}}),a("input",{ref:"file",staticClass:"mx-4 my-4",attrs:{type:"file",id:"file"},on:{change:function(e){return t.handleFileUpload()}}})],1),t._v(" "),a("v-divider",{staticClass:"mt-2"}),t._v(" "),a("v-card-actions",[a("v-spacer"),t._v(" "),a("v-btn",{staticClass:"mr-4",attrs:{text:"",color:"info accent-4",type:"submit"},on:{click:t.submit}},[t._v("\n        submit\n      ")])],1)],1)],1)}),[],!1,null,null,null).exports}}]);