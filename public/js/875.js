(self.webpackChunk=self.webpackChunk||[]).push([[875],{7875:(t,e,i)=>{"use strict";i.r(e),i.d(e,{default:()=>r});const a={props:{id:String},data:function(){return{event:"",form:{id:this.id,name:"",description:"",user_id:localStorage.getItem("user_id")},appURL:"http://127.0.0.1:8001",baseURL:"/",apiToken:localStorage.getItem("user_api_token"),errors:!1}},methods:{submit:function(){if(!this.errors){var t={headers:{Authorization:"Bearer "+this.apiToken}};axios.patch(this.baseURL+"api/events/"+this.id,this.form,t).then(function(){this.historyBack()}.bind(this)).catch((function(t){console.log(t)}))}},fetchAPI:function(){var t=this;axios.request({url:this.id,method:"get",baseURL:this.baseURL+"api/events/",headers:{Authorization:"Bearer "+this.apiToken}}).then((function(e){t.event=e.data.data.event,t.form.name=t.event.name,t.form.description=t.event.description})).catch((function(t){console.log(t)})).finally((function(){}))},historyBack:function(){this.$router.push("".concat(this.baseURL).concat(this.$i18n.locale,"/events/").concat(this.id))}},mounted:function(){this.fetchAPI()}};const r=(0,i(1900).Z)(a,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("form",{staticClass:"mt-4",attrs:{id:"myForm"},on:{submit:function(t){t.preventDefault()}}},[i("v-card",{staticClass:"mx-auto",attrs:{"max-width":"800px"}},[i("v-card-title",{staticClass:"title greybg primary--text"},[i("div",[t._v(t._s(t.$t("admin.edit.title")))])]),t._v(" "),i("v-card-text",[i("input",{directives:[{name:"model",rawName:"v-model",value:t.form.id,expression:"form.id"}],attrs:{type:"hidden",id:"formId"},domProps:{value:t.form.id},on:{input:function(e){e.target.composing||t.$set(t.form,"id",e.target.value)}}}),t._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:t.form.user_id,expression:"form.user_id"}],attrs:{type:"hidden",id:"formUserId"},domProps:{value:t.form.user_id},on:{input:function(e){e.target.composing||t.$set(t.form,"user_id",e.target.value)}}}),t._v(" "),i("v-text-field",{staticClass:"mx-4 px-2 my-4 primary--text",attrs:{type:"text",id:"formName",clearable:"",required:"",counter:"100",label:"Name"},model:{value:t.form.name,callback:function(e){t.$set(t.form,"name",e)},expression:"form.name"}}),t._v(" "),i("v-textarea",{staticClass:"mx-4 my-4 primary--text",attrs:{id:"formText",height:"400",clearable:"","no-resize":"",outlined:"",rows:"1","row-height":"25"},model:{value:t.form.description,callback:function(e){t.$set(t.form,"description",e)},expression:"form.description"}})],1),t._v(" "),i("v-divider",{staticClass:"mt-2"}),t._v(" "),i("v-card-actions",[i("v-btn",{staticClass:"primary--text",attrs:{text:""},on:{click:function(e){return t.historyBack()}}},[t._v("cancel")]),t._v(" "),i("v-spacer"),t._v(" "),i("v-btn",{staticClass:"mr-4",attrs:{text:"",color:"info accent-4",type:"submit"},on:{click:t.submit}},[t._v("\n        submit\n      ")])],1)],1)],1)}),[],!1,null,null,null).exports}}]);